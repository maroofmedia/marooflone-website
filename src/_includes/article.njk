---
layout: 'base.njk'
---
<article class="main-article" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="container container--narrow flow">
    
    <h1 class="article-title" itemprop="headline">
      {{ title }}
    </h1>
    
    <figure class="main-article__figure">
      <img src="{{ image }}" alt="{{ imageAlt }}" decoding="async">
      <figcaption>
        {{ imageAlt }}
      </figcaption>
    </figure>
    
    <div class="post-meta">
      <p><i class="fa-solid fa-user"></i> Written By: <span itemprop="author">{{ author }}</span></p>
      
      <p>
        <i class="fas fa-calendar-alt"></i> Published On: 
        <time datetime="{{ date }}">{{ date | postDate }}</time>
      </p>
    </div>
      
    <div itemprop="articleBody">
      {{ content | safe }}
    </div>

    {% if tags.length > 0 %}
      <div class="post-tags">
        <p>Tags:</p>
        <p>
          {% for tag in tags %}
            {% if tag != "post" %}
              <a href="/tags/{{ tag | slugify }}/" class="tag-link">#{{ tag }}</a>{% if not loop.last %}, {% endif %}
            {% endif %}
          {% endfor %}
        </p>
      </div>
    {% endif %}

    <div class="share-container">
        <span class="share-label">Found this useful? Pass it on.</span>
        
        <div class="share-btn-group">
            <button id="confetti-like-btn" class="share-btn like-btn" aria-label="Like this post">
    <i class="far fa-heart heart-icon"></i>
    <span>Like</span>
</button>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
  const likeBtn = document.getElementById('confetti-like-btn');
  const heartIcon = likeBtn.querySelector('.heart-icon');
  const likeText = likeBtn.querySelector('span');
  
  // Unique ID for this post
  const postID = window.location.pathname; 
  const hasLiked = localStorage.getItem('liked_' + postID);

  // Check state on load
  if (hasLiked) {
    setLikedState();
  }

  likeBtn.addEventListener('click', function(e) {
    // TOGGLE LOGIC
    if (likeBtn.classList.contains('liked')) {
      // User is unliking
      removeLikedState();
      localStorage.removeItem('liked_' + postID);
    } else {
      // User is liking
      setLikedState();
      localStorage.setItem('liked_' + postID, 'true');
      fireConfetti(e);
    }
  });

  function setLikedState() {
    likeBtn.classList.add('liked');
    heartIcon.classList.remove('far');
    heartIcon.classList.add('fas');
    likeText.innerText = "Liked";
  }

  function removeLikedState() {
    likeBtn.classList.remove('liked');
    heartIcon.classList.remove('fas'); 
    heartIcon.classList.add('far');    
    likeText.innerText = "Like";
  }

  function fireConfetti(e) {
    const rect = likeBtn.getBoundingClientRect();
    const x = (rect.left + rect.width / 2) / window.innerWidth;
    const y = (rect.top + rect.height / 2) / window.innerHeight;

    confetti({
      particleCount: 60,
      spread: 70,
      origin: { x: x, y: y },
      colors: ['#FF5F56', '#4FD1C5', '#FFD700'],
      disableForReducedMotion: true,
      scalar: 0.8
    });
  }
</script>

            <a href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ page.url | url }}" target="_blank" rel="noopener noreferrer" class="share-btn fb" aria-label="Share on Facebook">
                <i class="fa-brands fa-facebook-f"></i>
                <span>Facebook</span>
            </a>

            <a href="https://twitter.com/intent/tweet?url={{ site.url }}{{ page.url | url }}&text={{ title | urlencode }}" target="_blank" rel="noopener noreferrer" class="share-btn tw" aria-label="Share on Twitter">
                <i class="fa-brands fa-x-twitter"></i>
                <span>Post</span>
            </a>

            <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ page.url | url }}" target="_blank" rel="noopener noreferrer" class="share-btn in" aria-label="Share on LinkedIn">
                <i class="fa-brands fa-linkedin-in"></i>
                <span>LinkedIn</span>
            </a>

            <a href="https://api.whatsapp.com/send?text={{ title | urlencode }}%20{{ site.url }}{{ page.url | url }}" target="_blank" rel="noopener noreferrer" class="share-btn wa" aria-label="Share on WhatsApp">
                <i class="fa-brands fa-whatsapp"></i>
                <span>WhatsApp</span>
            </a>
        </div>
    </div>
</div>

  </div> <div class="container">
    <div class="recent-posts-section">
      <h3 class="recent-heading">Read Next</h3>
      
      <div class="recent-grid">
        {% set recentPosts = collections.post | reverse %}
        {% set count = 0 %}
        
        {% for post in recentPosts %}
          {% if post.url != page.url and count < 3 %}
            
            <a href="{{ post.url }}" class="recent-card">
              <span class="recent-card-title">{{ post.data.title }}</span>
              <div class="recent-card-meta">
                 <i class="fas fa-calendar-alt"></i>
                 <time datetime="{{ post.date }}">{{ post.date | postDate }}</time>
              </div>
            </a>

            {% set count = count + 1 %}
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div> </article>